<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Frontend CSS -->

    <template id="js_custom_forms_assets_frontend_product" inherit_id="website.assets_frontend" name="Jim Custom Forms CSS Frontend">
        <xpath expr="." position="inside">
            <link href="/js_custom_forms/static/less/product.less" rel="stylesheet" type="text/less" />
        </xpath>
    </template>

    <!-- Custom HTM for Product Page -->

    <template id="js_custom_forms_product_product" inherit_id="clarico_product.clarico_product_product" name="Custom Clarico Product" priority="25">
        <!-- Quitar condiciones debajo de añadir al carrito -->
        <xpath expr="//div[hasclass('p_static_desc_para')]" position="replace"></xpath>
        <!-- Quitar descripción del producto debajo del nombre -->
        <xpath expr="//div[@id='product_details']/div[3]" position="replace"></xpath>
        <!-- Añadir atributos debajo del nombre (antes del formulario) -->
        <xpath expr="//form[hasclass('js_add_cart_variants')]" position="before">
            <hr t-if="sum([(1 if len(l.value_ids)==1 else 0) for l in product.attribute_line_ids])" id='hr_product_attributes_simple'/>
            <p class="text-muted" id="product_attributes_simple">
                <t t-foreach="product.attribute_line_ids.sorted(key=lambda x: x.attribute_id.sequence)" t-as="variant_id">
                    <t t-if="variant_id.attribute_id.create_variant">
                        <t t-if="len(variant_id.value_ids)==1">
                            <span t-field="variant_id.attribute_id" />: <span t-field="variant_id.value_ids[0].name" /><br /></t>
                    </t>
                </t>
            </p>
        </xpath>
    </template>

    <template id="js_custom_forms_product_compare" inherit_id="clarico_compare.clarico_compare_clarico_product" name="Custom Clarico Products Compare" priority="25">
        <!-- Añadir descripción del producto debajo de la descripción corta -->
        <xpath expr="//section[@id='product_full_spec']" position="inside">
            <hr t-if="product.product_sort_description" />
            <div class="o_not_editable prod_des" t-if="product.product_description">
                <p t-field="product.product_description" class="text-muted" />
            </div>
        </xpath>
        <!-- Quitar atributos debajo de la descripción corta -->
        <xpath expr="//div[@id='product_specifications']" position="replace"></xpath>
    </template>
</odoo>
